{"backend_state":"running","connection_file":"/tmp/xdg-runtime-user/jupyter/kernel-f4cf3c3d-b29f-4c66-9b59-751bba72ca14.json","kernel":"python3","kernel_error":"","kernel_state":"idle","kernel_usage":{"cpu":0,"memory":0},"last_backend_state":1746555580940,"last_ipynb_save":1746555622173,"metadata":{"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.10.12"}},"trust":true,"type":"settings"}
{"cell_type":"code","end":1746555618328,"exec_count":4,"id":"58ce9d","input":"from label_studio_format import text_to_ls_format\nfrom pathlib import Path\n\nlegal_cases = [\n    \"X Systems Corp v Commissioner of Internal Revenue.txt\",\n    \"DHL Corp And Subsidiaries v CIR.txt\",\n    \"Hewlett-Packard Co v CIR.txt\"\n]\n\ninput_folder  = Path(\"corporate_tax_cases_txt\")\noutput_folder = Path(\"label_studio_tasks\")\n\nfor i, filename in enumerate(legal_cases):\n    text_to_ls_format(\n        text_file_path= input_folder  / filename,\n        output_folder= output_folder,\n        ref_id=        i\n    )\n","kernel":"python3","last":118,"output":{"0":{"more_output":true}},"pos":3,"scrolled":true,"start":1746555618243,"state":"done","type":"cell"}
{"cell_type":"code","exec_count":2,"id":"604c23","input":"import json\nfrom information_extraction import extract_facts\nfrom rtf_manipulation import process_directory\nimport os\nfrom pathlib import Path","pos":0,"type":"cell"}
{"cell_type":"code","exec_count":3,"id":"133ef0","input":"input_directory = Path('corporate_tax_cases')\noutput_directory = Path('corporate_tax_cases_txt')\n\nfor file_path in input_directory.glob('*.txt'):\n\n    with open(file_path, \"r\", encoding=\"utf-8\") as file_in:\n        text = file_in.read()\n    print(f'Processing file {file_path.stem}')\n    facts, successful_task = extract_facts(text)\n    \n    if successful_task:\n        output_file_path = output_directory / f\"{file_path.stem}.txt\"\n        with open(output_file_path, \"w\", encoding=\"utf-8\") as file_out:\n            file_out.write(facts)","output":{"0":{"ename":"NameError","evalue":"name 'Path' is not defined","output_type":"error","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mNameError\u001b[0m                                 Traceback (most recent call last)","Cell \u001b[0;32mIn[3], line 1\u001b[0m\n\u001b[0;32m----> 1\u001b[0m input_directory \u001b[38;5;241m=\u001b[39m \u001b[43mPath\u001b[49m(\u001b[38;5;124m'\u001b[39m\u001b[38;5;124mcorporate_tax_cases\u001b[39m\u001b[38;5;124m'\u001b[39m)\n\u001b[1;32m      2\u001b[0m output_directory \u001b[38;5;241m=\u001b[39m Path(\u001b[38;5;124m'\u001b[39m\u001b[38;5;124mcorporate_tax_cases_txt\u001b[39m\u001b[38;5;124m'\u001b[39m)\n\u001b[1;32m      4\u001b[0m \u001b[38;5;28;01mfor\u001b[39;00m file_path \u001b[38;5;129;01min\u001b[39;00m input_directory\u001b[38;5;241m.\u001b[39mglob(\u001b[38;5;124m'\u001b[39m\u001b[38;5;124m*.txt\u001b[39m\u001b[38;5;124m'\u001b[39m):\n","\u001b[0;31mNameError\u001b[0m: name 'Path' is not defined"]}},"pos":2,"type":"cell"}
{"cell_type":"code","exec_count":6,"id":"3bc9b7","input":"input_directory = 'corporate_tax_cases'\noutput_directory = 'corporate_tax_cases_txt'\n\nprocess_directory(input_directory, output_directory)","output":{"0":{"name":"stdout","output_type":"stream","text":"Processed State Farm Road Corp v Commissioner of Internal Revenue.rtf\nDocument State Farm Road Corp v Commissioner of Internal Revenue has been saved to corporate_tax_cases_txt/State Farm Road Corp v Commissioner of Internal Revenue.txt\n"},"1":{"name":"stdout","output_type":"stream","text":"Processed Thompson Engineering Company Inc v Commissioner of Internal Revenue.rtf\nDocument Thompson Engineering Company Inc v Commissioner of Internal Revenue has been saved to corporate_tax_cases_txt/Thompson Engineering Company Inc v Commissioner of Internal Revenue.txt\nProcessed Litton Industries Inc v Commissioner of Internal Revenue.rtf\nDocument Litton Industries Inc v Commissioner of Internal Revenue has been saved to corporate_tax_cases_txt/Litton Industries Inc v Commissioner of Internal Revenue.txt\n"},"10":{"name":"stdout","output_type":"stream","text":"Processed Hewlett-Packard Co v CIR.rtf\nDocument Hewlett-Packard Co v CIR has been saved to corporate_tax_cases_txt/Hewlett-Packard Co v CIR.txt\nProcessed Bleily And Collishaw Inc v Commissioner of Internal Revenue.rtf\nDocument Bleily And Collishaw Inc v Commissioner of Internal Revenue has been saved to corporate_tax_cases_txt/Bleily And Collishaw Inc v Commissioner of Internal Revenue.txt\n"},"11":{"name":"stdout","output_type":"stream","text":"Processed Markell Co Inc v CIR.rtf\nDocument Markell Co Inc v CIR has been saved to corporate_tax_cases_txt/Markell Co Inc v CIR.txt\nProcessed Lessinger v CIR.rtf\nDocument Lessinger v CIR has been saved to corporate_tax_cases_txt/Lessinger v CIR.txt\n"},"12":{"name":"stdout","output_type":"stream","text":"Processed Menard Inc v CIR.rtf\nDocument Menard Inc v CIR has been saved to corporate_tax_cases_txt/Menard Inc v CIR.txt\nProcessed JE Seagram Corp v CIR.rtf\nDocument JE Seagram Corp v CIR has been saved to corporate_tax_cases_txt/JE Seagram Corp v CIR.txt\n"},"13":{"name":"stdout","output_type":"stream","text":"Processed DHL Corp And Subsidiaries v CIR.rtf\nDocument DHL Corp And Subsidiaries v CIR has been saved to corporate_tax_cases_txt/DHL Corp And Subsidiaries v CIR.txt\nProcessed Garber Industries Holding Co Inc v CIR.rtf\nDocument Garber Industries Holding Co Inc v CIR has been saved to corporate_tax_cases_txt/Garber Industries Holding Co Inc v CIR.txt\nProcessed Donlon I Development Corp v CIR.rtf\nDocument Donlon I Development Corp v CIR has been saved to corporate_tax_cases_txt/Donlon I Development Corp v CIR.txt\nProcessed Compaq Computer Corp and Subsidiaries v CIR.rtf\nDocument Compaq Computer Corp and Subsidiaries v CIR has been saved to corporate_tax_cases_txt/Compaq Computer Corp and Subsidiaries v CIR.txt\n"},"14":{"name":"stdout","output_type":"stream","text":"Processed Blum v CIR.rtf\nDocument Blum v CIR has been saved to corporate_tax_cases_txt/Blum v CIR.txt\nProcessed Saba Partnership v CIR.rtf\nDocument Saba Partnership v CIR has been saved to corporate_tax_cases_txt/Saba Partnership v CIR.txt\n"},"2":{"name":"stdout","output_type":"stream","text":"Processed Meredith Corpand Subsidiaries v CIR.rtf\nDocument Meredith Corpand Subsidiaries v CIR has been saved to corporate_tax_cases_txt/Meredith Corpand Subsidiaries v CIR.txt\n"},"3":{"name":"stdout","output_type":"stream","text":"Processed Santa Monica Pictures LLC v CIR.rtf\nDocument Santa Monica Pictures LLC v CIR has been saved to corporate_tax_cases_txt/Santa Monica Pictures LLC v CIR.txt\nProcessed Jelle v CIR.rtf\nDocument Jelle v CIR has been saved to corporate_tax_cases_txt/Jelle v CIR.txt\nProcessed FX Systems Corp v Commissioner of Internal Revenue.rtf\nDocument FX Systems Corp v Commissioner of Internal Revenue has been saved to corporate_tax_cases_txt/FX Systems Corp v Commissioner of Internal Revenue.txt\n"},"4":{"name":"stdout","output_type":"stream","text":"Processed The Coca-Cola Company And Subsidiaries v Commissioner of Internal Revenue.rtf\nDocument The Coca-Cola Company And Subsidiaries v Commissioner of Internal Revenue has been saved to corporate_tax_cases_txt/The Coca-Cola Company And Subsidiaries v Commissioner of Internal Revenue.txt\nProcessed Ralphs Grocery Co v CIR.rtf\nDocument Ralphs Grocery Co v CIR has been saved to corporate_tax_cases_txt/Ralphs Grocery Co v CIR.txt\n"},"5":{"name":"stdout","output_type":"stream","text":"Processed South Tulsa Pathology Laboratory Inc v CIR.rtf\nDocument South Tulsa Pathology Laboratory Inc v CIR has been saved to corporate_tax_cases_txt/South Tulsa Pathology Laboratory Inc v CIR.txt\nProcessed Charles Schwab Corp and Subsidiaries v CIR.rtf\nDocument Charles Schwab Corp and Subsidiaries v CIR has been saved to corporate_tax_cases_txt/Charles Schwab Corp and Subsidiaries v CIR.txt\nProcessed Lockwood v CIR.rtf\nDocument Lockwood v CIR has been saved to corporate_tax_cases_txt/Lockwood v CIR.txt\n"},"6":{"name":"stdout","output_type":"stream","text":"Processed Gerdau Macsteel Inc v CIR.rtf\nDocument Gerdau Macsteel Inc v CIR has been saved to corporate_tax_cases_txt/Gerdau Macsteel Inc v CIR.txt\nProcessed Kenyatta Corp v CIR.rtf\nDocument Kenyatta Corp v CIR has been saved to corporate_tax_cases_txt/Kenyatta Corp v CIR.txt\n"},"7":{"name":"stdout","output_type":"stream","text":"Processed PepsiCo Puerto Rico Inc v CIR.rtf\nDocument PepsiCo Puerto Rico Inc v CIR has been saved to corporate_tax_cases_txt/PepsiCo Puerto Rico Inc v CIR.txt\nProcessed Winn-Dixie Stores Inc v CIR.rtf\nDocument Winn-Dixie Stores Inc v CIR has been saved to corporate_tax_cases_txt/Winn-Dixie Stores Inc v CIR.txt\nProcessed Technalysis Corp v CIR.rtf\nDocument Technalysis Corp v CIR has been saved to corporate_tax_cases_txt/Technalysis Corp v CIR.txt\nProcessed Short Stop Electric Inc v Commissioner of Internal Revenue.rtf\nDocument Short Stop Electric Inc v Commissioner of Internal Revenue has been saved to corporate_tax_cases_txt/Short Stop Electric Inc v Commissioner of Internal Revenue.txt\n"},"8":{"name":"stdout","output_type":"stream","text":"Processed Snow Mfg Co v CIR.rtf\nDocument Snow Mfg Co v CIR has been saved to corporate_tax_cases_txt/Snow Mfg Co v CIR.txt\nProcessed Hillsboro National Bank v Commissioner of Internal Revenue.rtf\nDocument Hillsboro National Bank v Commissioner of Internal Revenue has been saved to corporate_tax_cases_txt/Hillsboro National Bank v Commissioner of Internal Revenue.txt\nProcessed Federal Home Loan Mortg Corp v CIR.rtf\nDocument Federal Home Loan Mortg Corp v CIR has been saved to corporate_tax_cases_txt/Federal Home Loan Mortg Corp v CIR.txt\n"},"9":{"name":"stdout","output_type":"stream","text":"Processed Charfoos v C I R.rtf\nDocument Charfoos v C I R has been saved to corporate_tax_cases_txt/Charfoos v C I R.txt\nProcessed Thor Energy Resources and Subsidiares v CIR.rtf\nDocument Thor Energy Resources and Subsidiares v CIR has been saved to corporate_tax_cases_txt/Thor Energy Resources and Subsidiares v CIR.txt\nProcessed Deitch v Commissioner of Internal Revenue.rtf\nDocument Deitch v Commissioner of Internal Revenue has been saved to corporate_tax_cases_txt/Deitch v Commissioner of Internal Revenue.txt\n"}},"pos":1,"type":"cell"}
{"id":"dc956c","input":"","pos":4,"type":"cell"}
{"id":0,"time":1746554020051,"type":"user"}
{"last_load":1746554019250,"type":"file"}